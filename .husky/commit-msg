# Run commitlint silently and capture exit code
npx --no-install commitlint --edit "$1" > /dev/null 2>&1
COMMITLINT_EXIT_CODE=$?

# If commitlint failed, show ONLY our custom message
if [ $COMMITLINT_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "\033[0;31mðŸš« Mensagem de commit rejeitada!\033[0m"
  echo "Sua mensagem deve comeÃ§ar com um dos tipos: feat, fix, hotfix, chore, docs, test"
  echo "Exemplo: feat: adicionar tela de login"
  echo "Use 'git commit --amend -m \"tipo: sua mensagem\"' para corrigir."
  echo ""
  exit 1
fi